(this["webpackJsonptango-def"]=this["webpackJsonptango-def"]||[]).push([[0],{12:function(e,t,n){},36:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(9),r=n(0),a=n.n(r),o=n(25),s=n.n(o),l=(n(36),n(10)),u=(n(12),n(7)),j=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1];return[n,function(e){fetch("/search/".concat(e)).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}]};function d(){var e=Object(i.a)(["\n  margin-top: 30vh;\n  width: 100vw;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  place-content: center;\n  align-items: center;\n  form {\n    input {\n      min-width: 50vw;\n      max-width: 600px;\n    }\n  }\n"]);return d=function(){return e},e}var b=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1],a=Object(r.useRef)(),o=j(),s=Object(u.a)(o,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){a.current.focus()}),[]),Object(r.useEffect)((function(){}),[l]),Object(c.jsxs)("section",{children:[Object(c.jsxs)(h,{children:[Object(c.jsxs)("h1",{children:["Tango Definitions",Object(c.jsx)("span",{style:{borderBottom:"5px chocolate solid"},children:".com"})]}),Object(c.jsx)("h3",{children:"by Matias Facio"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(n)},children:[Object(c.jsx)("label",{children:"Search"}),Object(c.jsx)("input",{ref:a,type:"text",value:n,placeholder:"..search (example: ochos)",onChange:function(e){i(e.target.value)}}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]})]}),l.length>0?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"result"}),Object(c.jsx)("th",{children:"title"}),Object(c.jsx)("th",{children:"snippet"}),Object(c.jsx)("th",{children:"definition"})]})}),Object(c.jsx)("tbody",{children:l.map((function(e,t){return Object(c.jsxs)("tr",{className:"ResultsContainerTR",children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.title}),Object(c.jsx)("td",{children:e.snippet}),Object(c.jsx)("td",{className:"ResultsContainerTD",children:e.definition})]},t)}))})]}):Object(c.jsx)("div",{style:{textAlign:"center"},children:"no entry"})]})},h=l.b.div(d()),f=n(4),O=n(21),x=n.n(O),p=n(29),v=n(30),g=Object(r.createContext)(),m=function(e,t){switch(t.type){case"INIT":return t.payload;case"ADD":return[].concat(Object(v.a)(e),[t.payload]);default:return e}},y=[],w=function(e){var t=Object(r.useReducer)(m,y),n=Object(u.a)(t,2),i=n[0],a=n[1],o=Object(r.useState)(!1),s=Object(u.a)(o,2),l=s[0],j=s[1];Object(r.useEffect)((function(){fetch("/search/searchall").then((function(e){return e.json()})).then((function(e){return a({type:"INIT",payload:e})})).catch((function(e){return console.log(e)}))}),[]),Object(r.useEffect)((function(){}),[i]);var d=function(){fetch("/search/searchall").then((function(e){return e.json()})).then((function(e){return a({type:"INIT",payload:e})})).catch((function(e){return console.log(e)}))},b=function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/adminarea/delete/".concat(t),{method:"DELETE"});case 3:if(n=e.sent,console.log(n.status),200===n.status){e.next=9;break}throw new Error(n.status);case 9:d();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(g.Provider,{value:{definitions:i,addDefinitionDB:function(e){var t=JSON.stringify(e);fetch("/adminarea/add-definition",{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((function(){return d()})).catch((function(e){return console.log(e)}))},delDefinitionDB:b,tryToLogin:function(e){var t=JSON.stringify(e);fetch("/adminarea/login",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((function(e){return j(200===e.status)})).catch((function(e){return console.log(e)}))},isLoggedin:l,adminLogout:function(){j(!1)}},children:e.children})};function C(){var e=Object(i.a)(["\n  margin: 0 auto;\n  height: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  form {\n    max-width: 800px;\n    display: flex;\n    flex-direction: row;\n    label {\n      font-size: 0.8rem;\n    }\n    input {\n      min-width: 300px;\n    }\n  }\n"]);return C=function(){return e},e}var D=function(){var e=Object(r.useContext)(g).addDefinitionDB,t=Object(r.useState)({title:"",snippet:"",definition:"",video_link:"",language:""}),n=Object(u.a)(t,2),i=n[0],a=n[1],o=Object(r.useRef)();return Object(c.jsxs)("div",{className:"SectionContainer",children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h3",{children:"Add Definition"})}),Object(c.jsx)(S,{children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(i),a({title:"",snippet:"",definition:"",video_link:"",language:""}),o.current.focus()},children:[Object(c.jsxs)("div",{className:"form_left",children:[Object(c.jsx)("label",{children:"Definition Title"}),Object(c.jsx)("input",{ref:o,type:"text",value:i.title,onChange:function(e){return a(Object(f.a)(Object(f.a)({},i),{},{title:e.target.value}))}}),Object(c.jsx)("label",{children:"Snippet"}),Object(c.jsx)("input",{id:"snippet",type:"text",value:i.snippet,onChange:function(e){return a(Object(f.a)(Object(f.a)({},i),{},{snippet:e.target.value}))}}),Object(c.jsx)("label",{children:"Language"}),Object(c.jsx)("input",{id:"language",type:"text",value:i.language,onChange:function(e){a(Object(f.a)(Object(f.a)({},i),{},{language:e.target.value}))}}),Object(c.jsx)("label",{children:"Video Link"}),Object(c.jsx)("input",{id:"video",type:"text",value:i.video_link,placeholder:"https://www.youtube.com/xxxxxxx",onChange:function(e){return a(Object(f.a)(Object(f.a)({},i),{},{video_link:e.target.value}))}}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]}),Object(c.jsxs)("div",{className:"form_right",children:[Object(c.jsx)("label",{children:"Definition"}),Object(c.jsx)("textarea",{type:"text",value:i.definition,onChange:function(e){return a(Object(f.a)(Object(f.a)({},i),{},{definition:e.target.value}))}})]})]})})]})},S=l.b.div(C()),T=Object(r.memo)((function(){var e=Object(r.useContext)(g),t=e.definitions,n=e.delDefinitionDB;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"All the definitions stored"}),t.length&&t.map((function(e){return Object(c.jsxs)("div",{className:"display_all_defintions",children:[Object(c.jsx)("div",{children:e._id}),Object(c.jsx)("div",{children:e.title}),Object(c.jsx)("div",{children:e.snippet}),Object(c.jsx)("div",{id:"one_definition",children:e.definition}),Object(c.jsx)("div",{children:e.vide_link}),Object(c.jsx)("button",{onClick:function(){return n(e._id)},children:"Del"})]},e._id)}))]})})),N=function(){var e=Object(r.useContext)(g).adminLogout;return Object(c.jsxs)("div",{className:"SectionContainer",children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h2",{children:"Admin area"})}),Object(c.jsx)("button",{className:"btn-logout",onClick:function(){return e()},children:"Logout"}),Object(c.jsx)(D,{}),Object(c.jsx)(T,{})]})},k=n(13),L=function(){var e=Object(r.useContext)(g).isLoggedin;return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{children:[Object(c.jsx)(k.b,{to:"/",children:"home"}),Object(c.jsx)(k.b,{to:"/admin",children:e?"admin":"login"})]})})},_=n(2);function E(){var e=Object(i.a)(["\n  padding-top: 20vh;\n"]);return E=function(){return e},e}var I=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(u.a)(e,2),n=t[0],i=t[1],a=Object(r.useContext)(g).tryToLogin;return Object(c.jsx)(A,{children:Object(c.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(e){e.preventDefault(),a(n),i({email:"",password:""})},children:[Object(c.jsx)("label",{children:"user ID"}),Object(c.jsx)("input",{type:"text",required:!0,value:n.email,onChange:function(e){return i(Object(f.a)(Object(f.a)({},n),{},{email:e.target.value}))}}),Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"text",required:!0,value:n.password,onChange:function(e){return i(Object(f.a)(Object(f.a)({},n),{},{password:e.target.value}))}}),Object(c.jsx)("button",{type:"submit",children:"Login"})]})})},A=l.b.div(E());function B(){var e=Object(i.a)(["\n  width: 100vw;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return B=function(){return e},e}var P=function(){var e=Object(r.useContext)(g).isLoggedin;return Object(c.jsxs)(R,{children:[Object(c.jsx)(L,{}),Object(c.jsxs)(_.c,{children:[Object(c.jsx)(_.a,{path:"/",exact:!0,component:b}),Object(c.jsx)(_.a,{path:"/admin",component:e?N:I})]})]})},R=l.b.div(B()),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};function J(){var e=Object(i.a)(["\n  body {\n    background-color: teal;\n    padding: 0px 2em;\n    color: white;\n  }\n"]);return J=function(){return e},e}var q=Object(l.a)(J());s.a.render(Object(c.jsxs)(a.a.StrictMode,{children:[Object(c.jsx)(q,{}),Object(c.jsx)(k.a,{children:Object(c.jsx)(w,{children:Object(c.jsx)(P,{})})})]}),document.getElementById("root")),F()}},[[48,1,2]]]);
//# sourceMappingURL=main.157e1e4f.chunk.js.map