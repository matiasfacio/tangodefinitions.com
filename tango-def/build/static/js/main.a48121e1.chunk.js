(this["webpackJsonptango-def"]=this["webpackJsonptango-def"]||[]).push([[0],{12:function(e,t,n){},34:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(9),r=n(0),o=n.n(r),a=n(24),s=n.n(a),l=(n(34),n(10)),j=(n(12),n(7)),u=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1];return[n,function(e){fetch("/search/".concat(e)).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)})),console.log("this search over here:",n)}]};function d(){var e=Object(i.a)(["\n  margin-top: 30vh;\n  width: 100vw;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  place-content: center;\n  align-items: center;\n  form {\n    input {\n      min-width: 50vw;\n      max-width: 600px;\n    }\n  }\n"]);return d=function(){return e},e}var b=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],i=t[1],o=Object(r.useRef)(),a=u(),s=Object(j.a)(a,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){o.current.focus()}),[]),Object(r.useEffect)((function(){console.log(l)}),[l]),Object(c.jsxs)("section",{children:[Object(c.jsxs)(h,{children:[Object(c.jsxs)("h1",{children:["Tango Definitions",Object(c.jsx)("span",{style:{borderBottom:"5px chocolate solid"},children:".com"})]}),Object(c.jsx)("h3",{children:"by Matias Facio"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(n)},children:[Object(c.jsx)("label",{children:"Search"}),Object(c.jsx)("input",{ref:o,type:"text",value:n,placeholder:"..search (example: ochos)",onChange:function(e){i(e.target.value)}}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]})]}),l.length>0?Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"result"}),Object(c.jsx)("th",{children:"title"}),Object(c.jsx)("th",{children:"snippet"}),Object(c.jsx)("th",{children:"definition"})]})}),Object(c.jsx)("tbody",{children:l.map((function(e,t){return Object(c.jsxs)("tr",{className:"ResultsContainerTR",children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.title}),Object(c.jsx)("td",{children:e.snippet}),Object(c.jsx)("td",{className:"ResultsContainerTD",children:e.definition})]},t)}))})]}):Object(c.jsx)("div",{style:{textAlign:"center"},children:"no entry"})]})},h=l.b.div(d()),f=n(4),O=n(28),x=Object(r.createContext)(),p=function(e,t){switch(t.type){case"INIT":return t.payload;case"ADD":return[].concat(Object(O.a)(e),[t.payload]);default:return e}},v=[],m=function(e){var t=Object(r.useReducer)(p,v),n=Object(j.a)(t,2),i=n[0],o=n[1],a=Object(r.useState)(!1),s=Object(j.a)(a,2),l=s[0],u=s[1];Object(r.useEffect)((function(){fetch("/searchall").then((function(e){return e.json()})).then((function(e){return o({type:"INIT",payload:e})})).catch((function(e){return console.log(e)}))}),[]),Object(r.useEffect)((function(){}),[i]);return Object(c.jsx)(x.Provider,{value:{definitions:i,addDefinitionDB:function(e){var t=JSON.stringify(e);fetch("/adminarea/add-definition",{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((function(){fetch("/searchall").then((function(e){return e.json()})).then((function(e){return o({type:"INIT",payload:e})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))},tryToLogin:function(e){var t=JSON.stringify(e);fetch("/adminarea/login",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then((function(e){return u(200===e.status)})).catch((function(e){return console.log(e)}))},isLoggedin:l,adminLogout:function(){u(!1)}},children:e.children})};function g(){var e=Object(i.a)(["\n  margin: 0 auto;\n  height: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  form {\n    max-width: 800px;\n    display: flex;\n    flex-direction: row;\n    label {\n      font-size: 0.8rem;\n    }\n    input {\n      min-width: 300px;\n    }\n  }\n"]);return g=function(){return e},e}var y=function(){var e=Object(r.useContext)(x).addDefinitionDB,t=Object(r.useState)({title:"",snippet:"",definition:"",video_link:""}),n=Object(j.a)(t,2),i=n[0],o=n[1],a=Object(r.useRef)();return Object(c.jsxs)("div",{className:"SectionContainer",children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h3",{children:"Add Definition"})}),Object(c.jsx)(C,{children:Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(i),o({title:"",snippet:"",definition:"",video_link:""}),a.current.focus()},children:[Object(c.jsxs)("div",{className:"form_left",children:[Object(c.jsx)("label",{children:"Definition Title"}),Object(c.jsx)("input",{ref:a,type:"text",value:i.title,onChange:function(e){return o(Object(f.a)(Object(f.a)({},i),{},{title:e.target.value}))}}),Object(c.jsx)("label",{children:"Snippet"}),Object(c.jsx)("input",{id:"snippet",type:"text",value:i.snippet,onChange:function(e){return o(Object(f.a)(Object(f.a)({},i),{},{snippet:e.target.value}))}}),Object(c.jsx)("label",{children:"Video Link"}),Object(c.jsx)("input",{id:"video",type:"text",value:i.video_link,placeholder:"https://www.youtube.com/xxxxxxx",onChange:function(e){return o(Object(f.a)(Object(f.a)({},i),{},{video_link:e.target.value}))}}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]}),Object(c.jsxs)("div",{className:"form_right",children:[Object(c.jsx)("label",{children:"Definition"}),Object(c.jsx)("textarea",{type:"text",value:i.definition,onChange:function(e){return o(Object(f.a)(Object(f.a)({},i),{},{definition:e.target.value}))}})]})]})})]})},C=l.b.div(g()),w=Object(r.memo)((function(){var e=Object(r.useContext)(x).definitions;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"All the definitions stored"}),e.length&&e.map((function(e,t){return Object(c.jsxs)("div",{className:"display_all_defintions",children:[Object(c.jsx)("div",{children:e._id}),Object(c.jsx)("div",{children:e.title}),Object(c.jsx)("div",{children:e.snippet}),Object(c.jsx)("div",{children:e.definition}),Object(c.jsx)("div",{children:e.vide_link})]},e._id)}))]})})),S=function(){var e=Object(r.useContext)(x).adminLogout;return Object(c.jsxs)("div",{className:"SectionContainer",children:[Object(c.jsx)("div",{className:"title",children:Object(c.jsx)("h2",{children:"Admin area"})}),Object(c.jsx)("button",{className:"btn-logout",onClick:function(){return e()},children:"Logout"}),Object(c.jsx)(y,{}),Object(c.jsx)(w,{})]})},D=n(13),N=function(){var e=Object(r.useContext)(x).isLoggedin;return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{children:[Object(c.jsx)(D.b,{to:"/",children:"home"}),Object(c.jsx)(D.b,{to:"/admin",children:e?"admin":"login"})]})})},T=n(2);function L(){var e=Object(i.a)(["\n  padding-top: 20vh;\n"]);return L=function(){return e},e}var _=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(j.a)(e,2),n=t[0],i=t[1],o=Object(r.useContext)(x).tryToLogin;return Object(c.jsx)(k,{children:Object(c.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(e){e.preventDefault(),o(n),i({email:"",password:""})},children:[Object(c.jsx)("label",{children:"user ID"}),Object(c.jsx)("input",{type:"text",required:!0,value:n.email,onChange:function(e){return i(Object(f.a)(Object(f.a)({},n),{},{email:e.target.value}))}}),Object(c.jsx)("label",{children:"Password"}),Object(c.jsx)("input",{type:"text",required:!0,value:n.password,onChange:function(e){return i(Object(f.a)(Object(f.a)({},n),{},{password:e.target.value}))}}),Object(c.jsx)("button",{type:"submit",children:"Login"})]})})},k=l.b.div(L());function I(){var e=Object(i.a)(["\n  width: 100vw;\n  height: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return I=function(){return e},e}var A=function(){var e=Object(r.useContext)(x).isLoggedin;return Object(c.jsxs)(P,{children:[Object(c.jsx)(N,{}),Object(c.jsxs)(T.c,{children:[Object(c.jsx)(T.a,{path:"/",exact:!0,component:b}),Object(c.jsx)(T.a,{path:"/admin",component:e?S:_})]})]})},P=l.b.div(I()),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};function B(){var e=Object(i.a)(["\n  body {\n    background-color: teal;\n    padding: 0px 2em;\n    color: white;\n  }\n"]);return B=function(){return e},e}var E=Object(l.a)(B());s.a.render(Object(c.jsxs)(o.a.StrictMode,{children:[Object(c.jsx)(E,{}),Object(c.jsx)(D.a,{children:Object(c.jsx)(m,{children:Object(c.jsx)(A,{})})})]}),document.getElementById("root")),R()}},[[45,1,2]]]);
//# sourceMappingURL=main.a48121e1.chunk.js.map